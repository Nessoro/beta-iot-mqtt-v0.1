<html>
<link href="styles/style.css" rel="stylesheet" type="text/css">
<script src="/scripts/script.js"></script>
<div id="container">
<div id="left">
Сайт для управления ТЕПЛИЦЕЙ <br><br>

<button id="btn">Connect! / очистка журнала</button>
<button id="door">Открыть (0.95) / закрыть форточку (0.05)</button>

<br><br>


<button id="getTemp">getTemp! один раз</button>
<button id="getTempContinious">getTemp! каждые 2 сек. / остановить</button><br><br>
  <button id="pushRelay">Питание реле</button>
<br><br>
  <button id="getHumidity">getВлажность</button>
<br><br>

<div id="mqttMess">Журнал MQTT-сообщений: </div>
  
  </div>
  
<div id="right">  
  <h2>API для фронтенда:</h2><br>
  Отправлять команды функцией <b>Send ("тема","сообщение");</b><br>
  "сообщение" значения не имеет, можно указать любое.
  
  <br>Плата реагирует на темы: <ul>
  <li>"/temp/get"</li>
  <li>"/door/turn"</li>
  <li>"/relay/turn"</li>
  <li>"/humidity/get"</li>
  </ul>
  
  В ответ присылает сообщения по темам:
  
  <ul>
  <li>"/temp". пример сообщения: "27.4"</li>
  <li>"/door". пример сообщения : "0.65" или "closed/opened" если с кнопки.</li>
  <li>"/relay". сообщение "0" или "1".</li>
  <li>"/humidity". пример сообщения: "56".</li>
  </ul>
  На них мы должны быть подписаны. <br>
  Редактировать функцию <b>"onMessageArrived"</b> если надо подробнее <br>разобрать входящие сообщения.<br>
  <br>
  Кнопка на плате открывает/закрывает сервопривод.<br>
  Серво на картинке находится в положении 0.05 и может открываться до 0.95, <br>шаг до сотых долей (команды смотреть в обработчиках у кнопок).<br> 
  
  <br>Пины подключения устройств на плате:<br>
  D1 - желтый от сервопривода<br>
  D7 - фиалетовый от термометра<br>
  D3 - реле для вентилятора<br>
  A0 - датчик влажности почвы<br>
  <br>
   <a href="http://pencode.ru/snap/%D1%82%D0%B5%D0%BF%D0%BB%D0%B8%D1%86%D0%B0_ESP8266.jpg" target=_blank>Картинка платы по ссылке</a>
</div> 
</div>
  </html>
